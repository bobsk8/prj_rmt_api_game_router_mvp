<app-menu></app-menu>



<div class="container">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Foto</th>        
        <th>Titulo</th>
        <th>Descrição</th>
        <th>Console</th>
        <th>Genero</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let jogo of jogos">
        <td><img src="{{apiImage}}{{jogo.foto}}" height="80" width="120"></td>
        <td>{{jogo.nome}}</td>
        <td>{{jogo.descricao}}</td>        
        <td>{{jogo.console.nome}}</td>
        <td>{{jogo.genero.nome}}</td>
      </tr>
    </tbody>
  </table>
</div>


<button class="btn btn-default" (click)="addNew()">Novo Jogo</button>
<div *ngIf="createUpdate">
  <div class="form-group">
    <label for="nome">titulo:</label>
    <input type="text" class="form-control" name="nome" [(ngModel)]="jogo.nome">
  </div>
  <div class="form-group">
    <label for="descricao">Descrição do jogo:</label>
    <textarea class="form-control" rows="5" id="descricao" name="descricao" [(ngModel)]="jogo.descricao"></textarea>
  </div>
  <div class="form-group">
    <label for="console">Console</label>
    <select class="form-control" name="console" [(ngModel)]="jogo.id_console" id="console">
    <option *ngFor="let console of consoles" [ngValue]="console.id">{{console.nome}}</option>    
  </select>
  </div>
  <div class="form-group">
    <label for="genero">Genero</label>
    <select class="form-control" name="genero" [(ngModel)]="jogo.id_genero" id="genero">
    <option *ngFor="let genero of generos" [ngValue]="genero.id">{{genero.nome}}</option>    
  </select>
  </div>
  <div class="checkbox">
    <label><input type="checkbox" [(ngModel)]="jogo.disponivel"> Disponível para troca</label>
  </div>
  <div class="form-group">
    <label for="nome">Foto:</label>
    <input id="photo" type="file" />
  </div>
  <button class="btn btn-primary" (click)="save(modal)">Salvar</button>
</div>

<ng-template #modal let-close="close">
    
        <div class="modal-dialog">
            <h4 class="modal-title">
                {{modalContent.title}}
            </h4>
            <div class="modal-body">
                <p>
                    {{modalContent.body}}
                </p>
            </div>
            <button type="button" data-dismiss="modal" (click)="close()" class="btn btn-default">Continuar</button>
        </div>
        
    </ng-template>